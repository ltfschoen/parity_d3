<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script src="https://parity.io/javascript_advert.js"></script>
		<script>window.d3 || document.write('<script src="js/d3.v4.min.js">\x3C/script>')</script>
		<script>window.job || document.write('<script src="js/javascript_advert.js">\x3C/script>')</script>
		<script>
		 	function draw(data) { 
				"use strict";

				d3.select("body")
					.append("div")
				  .attr("class","chart")
				  .selectAll(".bar")
				  .data(data)
				  .enter()
				  .append("div")
				  .attr("class","bar")
				  .style("width", function(d){return d.profile.newfeatures + "px"})
				  .style("outline", "1px solid black")
				  .text(function(d){
						return Math.round(d.profile.newfeatures)
				  });
			}
		</script>
	</head>
	<body>

	</body>
	<script>
		document.addEventListener("DOMContentLoaded", function(event) {
			var jsonOutput = [{}];
			function iterate(obj) {
				for (var property in obj) {
			    if (obj.hasOwnProperty(property)) {
		        jsonOutput[0][property] = obj[property];
			    }
				}
			}
			iterate(job);
			// console.log(JSON.stringify(jsonOutput, null, 2));
			draw(jsonOutput);
		});
	</script>
</html>